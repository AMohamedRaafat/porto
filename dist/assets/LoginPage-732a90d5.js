import{n as h,i as y,r as p,k as v,f as L,s as T,o as r,c as d,u as o,b as s,p as g,v as _,q as x,l as w}from"./index-d2a3ee58.js";import{L as C}from"./LoaderVue-5371788a.js";const b=h(),k=y("AuthReducer",()=>{const n=p(!1);return{loading:n,userLogin:async i=>{n.value=!0;try{const t=await v.post("/auth/login",i);document.cookie=`token = ${t.data.token}`,localStorage.setItem("user",JSON.stringify(t.data)),t.status==200&&(b.success("Login Success"),n.value=!1,setTimeout(()=>{window.location.assign("/")},1500))}catch(t){t.response.status==400&&(b.error("incorecct username or password"),n.value=!1)}}}}),R=()=>{const n=L(),a=p(""),i=p(""),t=document.cookie,{userLogin:l}=k(),m=k(),{loading:c}=T(m);return console.log(c.value),{router:n,token:t,username:a,password:i,loading:c,clickToLogin:()=>{l({username:a.value,password:i.value})},LoaderVue:C}},N={class:"login font-poppins text-black"},S={key:0},I=s("div",{class:"dir flex items-center justify-center h-32 bg-slate-100 font-semibold p-10"},[s("h1",{class:"text-3xl"},"Customer Login")],-1),U={class:"my-20 container mx-auto"},V={class:"form mx-auto w-[70%] md:w-[45%]"},A={class:"flex w-full items-left text-black justify-center flex-col"},B=s("div",{class:"form-text mb-5 text-left"},[s("h2",{class:"font-bold text-xl mb-5"},"Registered Customers"),s("p",{class:"text-gray-600"},"If you have an account, sign in with your email address.")],-1),j={class:"form-input mb-6"},z=s("label",{class:"block text-sm text-gray-500 mb-2",for:"username"},"Username",-1),E={class:"form-input"},P=s("label",{class:"block text-sm text-gray-500 mb-2",for:"password"},"Password",-1),M=s("a",{href:"#",class:"text-sm mt-2 font-semibold"},"Forget Your Password ?",-1),O={class:"form-input my-5"},Y={key:0},$={class:"form-input mb-5"},q={key:1,class:"flex flex-col my-5 justify-center items-center h-52"},D=s("span",{class:"text-lg text-black mb-5"}," You're Logged in ",-1),F={__name:"LogIn",setup(n){const{router:a,token:i,username:t,password:l,loading:m,clickToLogin:c,LoaderVue:f}=R();return(G,e)=>(r(),d("section",N,[o(i)?(r(),d("div",q,[D,s("button",{class:"block p-4 w-52 text-white bg-zinc-900 my-5",onClick:e[4]||(e[4]=()=>o(a).push("/"))},"Home")])):(r(),d("div",S,[I,s("div",U,[s("div",V,[s("div",A,[B,s("div",j,[z,g(s("input",{"onUpdate:modelValue":e[0]||(e[0]=u=>x(t)?t.value=u:null),type:"text",name:"email",placeholder:"username",id:"username",class:"border border-gray-300 px-5 py-4 w-[100%] text-sm"},null,512),[[_,o(t)]])]),s("div",E,[P,g(s("input",{"onUpdate:modelValue":e[1]||(e[1]=u=>x(l)?l.value=u:null),type:"password",name:"password",placeholder:"*******",id:"password",class:"border border-gray-300 px-5 py-4 w-[100%] text-sm"},null,512),[[_,o(l)]]),M]),s("div",O,[s("button",{onClick:e[2]||(e[2]=(...u)=>o(c)&&o(c)(...u)),class:"w-[100%] p-5 text-lg bg-zinc-900 text-white font-poppins tracking-widest"},[o(m)?(r(),w(o(f),{key:1})):(r(),d("span",Y,"SIGN IN"))])]),s("div",$,[s("button",{onClick:e[3]||(e[3]=()=>o(a).push("/register")),class:"w-[100%] p-5 text-lg bg-zinc-900 text-white font-poppins tracking-widest"},"CREATE AN ACCOUNT")])])])])]))]))}},K={__name:"LoginPage",setup(n){return(a,i)=>(r(),w(F))}};export{K as default};
